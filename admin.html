<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ISI â€“ Admin Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="css/style.css">

<style>
/* SIDE MENU */
.side-menu{
  position:fixed;
  top:0; left:-260px;
  width:260px; height:100%;
  background:#fff;
  box-shadow:4px 0 15px rgba(0,0,0,.2);
  z-index:5000;
  transition:.3s;
  padding:14px;
}
.side-menu.active{ left:0 }
.side-menu a{
  display:block;
  padding:12px 6px;
  font-weight:600;
  color:#2563eb;
  text-decoration:none;
}
.side-menu hr{
  border:none;
  border-top:1px solid #eee;
  margin:10px 0;
}
.menu-header{
  display:flex;
  justify-content:space-between;
  margin-bottom:10px;
}

/* ADMIN SECTIONS */
.section{
  background:#fff;
  border-radius:16px;
  padding:14px;
  margin-bottom:16px;
  box-shadow:0 6px 14px rgba(0,0,0,.08);
}
.section h3{
  margin-bottom:8px;
}
.small{
  font-size:13px;
  color:#6b7280;
}
</style>
</head>

<body>

<!-- SIDE MENU -->
<div id="sideMenu" class="side-menu">
  <div class="menu-header">
    <b>Menu</b>
    <span onclick="toggleMenu()">âœ–</span>
  </div>

  <a href="index.html">ğŸ  Home</a>
  <a href="admin.html">âš™ï¸ Admin Panel</a>

  <hr>

  <a href="merchant-login.html">ğŸ§‘â€ğŸ’¼ Merchant Login</a>
  <a href="admin-login.html">ğŸ›¡ï¸ Admin Login</a>
</div>

<!-- HEADER -->
<header class="topbar">
  <div onclick="toggleMenu()">â˜°</div>
  <div>Admin Panel</div>
  <div onclick="logout()">ğŸšª</div>
</header>

<div class="container">

  <!-- MERCHANTS -->
  <div class="section">
    <h3>Merchants</h3>
    <div id="merchantList" class="small"></div>
  </div>

  <!-- PRODUCTS -->
  <div class="section">
    <h3>All Products</h3>
    <div id="productList" class="small"></div>
  </div>

  <!-- ORDERS -->
  <div class="section">
    <h3>All Orders</h3>
    <div id="orderList" class="small"></div>
  </div>

</div>

<!-- JS -->
<script src="js/data.js"></script>

<script>
/* AUTH CHECK */
if(localStorage.getItem("adminSession")!=="yes"){
  location.href="admin-login.html";
}

/* MENU */
function toggleMenu(){
  sideMenu.classList.toggle("active");
}

/* LOGOUT */
function logout(){
  localStorage.removeItem("adminSession");
  location.href="admin-login.html";
}

/* LOAD DATA */
const merchants = getData("merchants");
const products = getData("products");
const orders = getData("orders");

/* MERCHANTS */
merchantList.innerHTML = merchants.length
  ? merchants.map(m=>`
      <div>
        <b>${m.shopName}</b><br>
        ID: ${m.id}
      </div><hr>
    `).join("")
  : "No merchants available";

/* PRODUCTS */
productList.innerHTML = products.length
  ? products.map(p=>`
      <div>
        <b>${p.name}</b> â€“ â‚¹${p.price}<br>
        ${p.category} | ${p.merchantShop}
      </div><hr>
    `).join("")
  : "No products published";

/* ORDERS */
orderList.innerHTML = orders.length
  ? orders.map(o=>`
      <div>
        <b>Order #${o.id}</b> â€“ â‚¹${o.total}<br>
        ${o.payment.toUpperCase()} | ${o.date}<br>
        ${o.address.name}, ${o.address.mobile}<br>
        ${o.address.address},
        ${o.address.district}, ${o.address.state} - ${o.address.pincode}
      </div><hr>
    `).join("")
  : "No orders yet";
</script>

</body>
</html>
