<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ISI ‚Äì Admin Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="css/style.css">

<style>
.section-title{
  font-size:18px;
  font-weight:800;
  margin-bottom:10px;
}
.admin-card{
  background:#fff;
  border-radius:16px;
  padding:14px;
  margin-bottom:16px;
  box-shadow:0 6px 14px rgba(0,0,0,.08);
}
.small{
  font-size:13px;
  color:#6b7280;
}
</style>
</head>

<body>

<!-- HEADER -->
<header class="topbar">
  <div onclick="history.back()">‚Üê</div>
  <div>Admin Panel</div>
  <div onclick="goHome()">üè†</div>
</header>

<div class="container">

  <!-- MERCHANTS -->
  <div class="admin-card">
    <div class="section-title">Merchants</div>
    <div id="merchantList"></div>
  </div>

  <!-- PRODUCTS -->
  <div class="admin-card">
    <div class="section-title">All Products</div>
    <div id="productList"></div>
  </div>

  <!-- ORDERS -->
  <div class="admin-card">
    <div class="section-title">All Orders</div>
    <div id="orderList"></div>
  </div>

</div>

<!-- JS -->
<script src="js/data.js"></script>

<script>
function goHome(){ location.href="index.html"; }

/* ---------- admin auth ---------- */
if(localStorage.getItem("adminSession") !== "yes"){
  location.href="admin-login.html";
}

/* ---------- merchants ---------- */
const merchants = getData("merchants");
merchantList.innerHTML = merchants.length
  ? merchants.map(m=>`
      <div>
        <b>${m.shopName}</b><br>
        <span class="small">ID: ${m.id}</span>
      </div><hr>
    `).join("")
  : "<p class='small'>No merchants added</p>";

/* ---------- products ---------- */
const products = getData("products");
productList.innerHTML = products.length
  ? products.map(p=>`
      <div>
        <b>${p.name}</b> ‚Äì ‚Çπ${p.price}<br>
        <span class="small">
          ${p.category} | ${p.merchantShop}
        </span>
      </div><hr>
    `).join("")
  : "<p class='small'>No products published</p>";

/* ---------- orders ---------- */
const orders = getData("orders");
orderList.innerHTML = orders.length
  ? orders.map(o=>`
      <div>
        <b>Order #${o.id}</b> ‚Äì ‚Çπ${o.total}<br>
        <span class="small">
          ${o.payment.toUpperCase()} | ${o.date}
        </span>
      </div><hr>
    `).join("")
  : "<p class='small'>No orders yet</p>";
</script>

</body>
</html>
