<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ISI â€“ Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="css/style.css">

<style>
/* SEARCH */
.search-box{
  padding:12px;
}
.search-box input{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid #ccc;
}

/* CATEGORY */
.categories{
  display:flex;
  overflow-x:auto;
  padding:10px;
  gap:8px;
}
.categories::-webkit-scrollbar{display:none}

/* SIDE MENU */
.side-menu{
  position:fixed;
  top:0;
  left:-260px;
  width:260px;
  height:100%;
  background:#fff;
  box-shadow:4px 0 15px rgba(0,0,0,.2);
  z-index:5000;
  transition:.3s;
  padding:14px;
}
.side-menu.active{
  left:0;
}
.side-menu a{
  display:block;
  padding:12px 6px;
  font-weight:600;
  color:#2563eb;
  text-decoration:none;
}
.side-menu hr{
  border:none;
  border-top:1px solid #eee;
  margin:10px 0;
}
.menu-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:10px;
}
</style>
</head>

<body>

<!-- SIDE MENU -->
<div id="sideMenu" class="side-menu">
  <div class="menu-header">
    <b>Menu</b>
    <span onclick="toggleMenu()">âœ–</span>
  </div>

  <a href="index.html">ğŸ  Home</a>
  <a href="cart.html">ğŸ›’ Cart</a>
  <a href="my-orders.html">ğŸ“¦ My Orders</a>
  <a href="manage-address.html">ğŸ“ Manage Address</a>

  <hr>

  <a href="merchant-login.html">ğŸ§‘â€ğŸ’¼ Merchant Login</a>
  <a href="merchant-dashboard.html">ğŸ“Š Merchant Dashboard</a>

  <hr>

  <a href="admin-login.html">ğŸ›¡ï¸ Admin Login</a>
  <a href="admin.html">âš™ï¸ Admin Panel</a>
</div>

<!-- HEADER -->
<header class="topbar">
  <div onclick="toggleMenu()">â˜°</div>
  <div onclick="goHome()">ISI</div>
  <div onclick="goCart()">ğŸ›’ <span id="cartCount">0</span></div>
</header>

<!-- SEARCH -->
<div class="search-box">
  <input type="text" id="search" placeholder="Search products..." onkeyup="searchProduct()">
</div>

<!-- CATEGORIES -->
<div class="categories">
  <div class="category active" onclick="filterCat('all',this)">All</div>
  <div class="category" onclick="filterCat('Fashion',this)">Fashion</div>
  <div class="category" onclick="filterCat('Beauty',this)">Beauty</div>
  <div class="category" onclick="filterCat('Electronics',this)">Electronics</div>
  <div class="category" onclick="filterCat('Grocery',this)">Grocery</div>
  <div class="category" onclick="filterCat('Vegetable',this)">Vegetable</div>
  <div class="category" onclick="filterCat('Fruit',this)">Fruit</div>
  <div class="category" onclick="filterCat('Meat',this)">Meat</div>
  <div class="category" onclick="filterCat('Biryani',this)">Biryani</div>
  <div class="category" onclick="filterCat('Mithai',this)">Mithai</div>
</div>

<!-- PRODUCTS -->
<div id="productList" class="product-grid"></div>

<!-- JS -->
<script src="js/data.js"></script>
<script src="js/cart.js"></script>

<script>
let allProducts = getData("products");

/* SIDE MENU */
function toggleMenu(){
  document.getElementById("sideMenu").classList.toggle("active");
}

/* NAV */
function goHome(){ location.href="index.html"; }
function goCart(){ location.href="cart.html"; }

/* RENDER PRODUCTS */
function render(products){
  const box = document.getElementById("productList");

  if(!products.length){
    box.innerHTML="<p style='text-align:center'>No products available</p>";
    return;
  }

  box.innerHTML = products.map(p=>`
    <div class="product-card">
      <img src="${p.img || 'https://via.placeholder.com/300'}">
      <h4>${p.name}</h4>
      <div class="price">â‚¹${p.price}</div>
      <button onclick="addToCart(${p.id})">Add to Cart</button>
    </div>
  `).join("");
}

/* CATEGORY FILTER */
function filterCat(cat,el){
  document.querySelectorAll(".category").forEach(c=>c.classList.remove("active"));
  el.classList.add("active");

  if(cat==="all") render(allProducts);
  else render(allProducts.filter(p=>p.category===cat));
}

/* SEARCH */
function searchProduct(){
  const q = search.value.toLowerCase();
  render(allProducts.filter(p=>p.name.toLowerCase().includes(q)));
}

/* INIT */
render(allProducts);
updateCartCount();
</script>

</body>
</html>
